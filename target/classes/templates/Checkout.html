<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Checkout</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Code for smart Search bars --- ck -->
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <style>
        #return {
            position: absolute;
            top: 20px;
        }
    </style>

    <script type="text/javascript">
        function goBack() {
            window.history.back();
        }
    </script>

</head>
<body>

<div class="container">
    <!--    <h1 class="h1 text-center text-info mt-3">Find Flights</h1>-->
    <button type="button" class="btn btn-primary " onclick="goBack()" id="return">Go Back</button>
</div>

<div class="container">
    <h1 class="h1 text-center text-info mt-3">Checkout</h1>
<table class="table" >
    <thead>
    <tr class="table-info">
        <th>Flight ID</th>
        <th>Flight Number</th>
        <th>Available Seats</th>
        <th>From</th>
        <th>To</th>
        <th>Departure Time</th>
        <th>Arrival Time</th>
        <th>Date</th>
        <th>Price</th>

    </tr>
    </thead>
    <tbody>
    <tr>
        <td th:text="${flight.id}" th:value="${flight.id}" id="flightId">Flight ID</td>
        <td th:text="${flight.flightNumber}">Flight Number</td>
        <td th:text="${flight.availableSeats}">Available Seats</td>
        <td th:text="${flight.from}">From</td>
        <td th:text="${flight.to}">To</td>
<!--        <td th:text="${flight.departureTime}">Departure Time</td>-->
        <td th:if="*{flight.departureTime!=null and flight.departureTime=='NA'}" th:text="${flight.departureTime}">Departure Time</td>
        <td th:if="*{flight.departureTime!=null and #strings.length(flight.departureTime)==4 and flight.departureTime!='NA'}" th:text="${#strings.substring(flight.departureTime,0,2)} + ':'+${#strings.substring(flight.departureTime,2,4)}">Departure Time</td>
        <td th:if="*{flight.departureTime!=null and #strings.length(flight.departureTime)==3 and flight.departureTime!='NA'}" th:text="${#strings.substring(flight.departureTime,0,1)} + ':'+${#strings.substring(flight.departureTime,1,3)}">Departure Time</td>
        <td th:if="*{flight.departureTime!=null and #strings.length(flight.departureTime)<3 and flight.departureTime!='NA'}" th:text="${flight.departureTime}+':00'">Departure Time</td>

<!--        <td th:text="${flight.arrivalTime}">Arrival Time</td>-->
        <td th:if="*{flight.arrivalTime!=null and flight.arrivalTime=='NA'}" th:text="${flight.arrivalTime}">Arrival Time</td>
        <td th:if="*{flight.arrivalTime!=null and #strings.length(flight.arrivalTime)==4  and flight.arrivalTime!='NA'}" th:text="${#strings.substring(flight.arrivalTime,0,2)} + ':'+${#strings.substring(flight.arrivalTime,2,4)}">Arrival Time</td>
        <td th:if="*{flight.arrivalTime!=null and #strings.length(flight.arrivalTime)==3 and flight.arrivalTime!='NA'}" th:text="${#strings.substring(flight.arrivalTime,0,1)} + ':'+${#strings.substring(flight.arrivalTime,1,3)}">Arrival Time</td>
        <td th:if="*{flight.arrivalTime!=null and #strings.length(flight.arrivalTime)<3 and flight.arrivalTime!='NA'}" th:text="${flight.arrivalTime}+':00'">Arrival Time</td>


        <td th:text="${flight.date}">Date</td>
        <td th:text="${flight.price} + 'Â£'">Price</td>
    </tr>
    </tbody>
    </table>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

</body>
</html>