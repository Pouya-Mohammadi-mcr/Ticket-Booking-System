<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Checkout</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" th:href="@{/css/styleForCheckout.css}">
    <!-- Bootstrap CSS -->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script type="text/javascript">
        function checkForm(form)
        {
            if(!form.terms.checked) {
                alert("Please indicate that you accept the Terms and Conditions");
                form.terms.focus();
                return false;
            }
            return true;
        }

        function goBack() {
            window.history.back();
        }

    </script>

</head>
<body>

<h1>Checkout</h1>
<div class="row">
    <div class="col-50">
        <div class="container">
            <!--    <h1 class="h1 text-center text-info mt-3">Find Flights</h1>-->
            <button type="button" class="btn" onclick="goBack()" id="return">Go Back</button>
            <form action="/action_page.php">
                <div class="row">
                    <div class="col-50">
                        <h3>Extra Information</h3>
                        <label><i class="fa fa-user"></i> Class</label>
                        <div class="radiobutton" ><input type="radio" name="radio_class"> First Class (+ £50)</div>
                        <div class="radiobutton" ><input type="radio" name="radio_class"> Business Class (+ £20)</div>
                        <div class="radiobutton"><input type="radio" name="radio_class"> Economy Class  </div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-50">
                        <label ><i class="fa fa-check"></i> Seating</label>
                        <div class="radiobutton" ><input type="radio" name="radio_seat"> Window (+ £2)</div>
                        <div class="radiobutton" ><input type="radio" name="radio_seat"> Aisle (+ £2)</div>
                        <div class="radiobutton" ><input type="radio" name="radio_seat"> Dont Care</div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-50">
                        <label ><i class="fa fa-life-ring"></i> Flight Insurance (+ £20)</label>
                        <div class="radiobutton" ><input type="radio" name="radio_insurance"> Yes</div>
                        <div class="radiobutton"><input type="radio" name="radio_insurance"> No</div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-50">
                        <label><i class="fa fa-cutlery"></i> Meal (no extra cost)</label>

                        <div class="radiobutton" ><input type="radio" name="radio_meal"> Omnivore</div>
                        <div class="radiobutton"><input type="radio" name="radio_meal"> Vegetarian</div>
                        <div class="radiobutton" ><input type="radio" name="radio_meal"> Vegan</div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-50">
                        <label for="quantity"><i class="fa fa-suitcase"></i> Luggage Quantity (each is + £20)</label>
                        <input type="number" id="quantity" name="quantity" min="0" max="5">
                    </div>
                </div>

            </form>
        </div>
    </div>
    <div class="col-25">
        <div class="container">
            <h4>Your Flight<span class="price" style="color:black" th:text=" 'ID: '+${flight.id}" th:value="${flight.id}" id="flightId">ID: </span> <i class="fa fa-plane"></i></h4>
            <hr>
            <p>From: <b th:text="${flight.from}" ></b></p>
            <p>To: <b th:text="${flight.to}"></b></p>
            <p>Date: <b th:text="${flight.date}"></b> </p>
            <p>Departure:
                <b th:if="*{flight.departureTime!=null and flight.departureTime=='NA'}" th:text="${flight.departureTime}"></b>
                <b th:if="*{flight.departureTime!=null and #strings.length(flight.departureTime)==4 and flight.departureTime!='NA'}" th:text="${#strings.substring(flight.departureTime,0,2)} + ':'+${#strings.substring(flight.departureTime,2,4)}"></b>
                <b th:if="*{flight.departureTime!=null and #strings.length(flight.departureTime)==3 and flight.departureTime!='NA'}" th:text="${#strings.substring(flight.departureTime,0,1)} + ':'+${#strings.substring(flight.departureTime,1,3)}"></b>
                <b th:if="*{flight.departureTime!=null and #strings.length(flight.departureTime)<3 and flight.departureTime!='NA'}" th:text="${flight.departureTime}+':00'"></b>
            </p>
            <p>Arrival:
                <b th:if="*{flight.arrivalTime!=null and flight.arrivalTime=='NA'}" th:text="${flight.arrivalTime}"></b>
                <b th:if="*{flight.arrivalTime!=null and #strings.length(flight.arrivalTime)==4 and flight.arrivalTime!='NA'}" th:text="${#strings.substring(flight.arrivalTime,0,2)} + ':'+${#strings.substring(flight.arrivalTime,2,4)}"></b>
                <b th:if="*{flight.arrivalTime!=null and #strings.length(flight.arrivalTime)==3 and flight.arrivalTime!='NA'}" th:text="${#strings.substring(flight.arrivalTime,0,1)} + ':'+${#strings.substring(flight.arrivalTime,1,3)}"></b>
                <b th:if="*{flight.arrivalTime!=null and #strings.length(flight.arrivalTime)<3 and flight.arrivalTime!='NA'}" th:text="${flight.arrivalTime}+':00'"></b>
            </p>
            <hr>
            <p>Total <span class="price" style="color:black"><b th:text="'£' + ${flight.price}"></b></span></p>
        </div>
    </div>
</div>


<div class="row">
    <div class="col-50">
        <div class="container">
            <form action="/action_page.php">

                <div class="row">
                    <div class="col-50">
                        <h3>Billing Address</h3>
                        <label for="fname"><i class="fa fa-user"></i> Full Name</label>
                        <input type="text" id="fname" name="firstname" placeholder="John M. Doe">
                        <label for="email"><i class="fa fa-envelope"></i> Email</label>
                        <input type="text" id="email" name="email" placeholder="john@example.com">
                        <label for="adr1"><i class="fa fa-address-card-o"></i> Address 1</label>
                        <input type="text" id="adr1" name="address 1" placeholder="Kilburn Building, University of Manchester">
                        <label for="adr2"><i class="fa fa-address-card-o"></i> Address 2 (Optional)</label>
                        <input type="text" id="adr2" name="address 2" placeholder="Oxford Rd">
                        <label for="city"><i class="fa fa-institution"></i> City</label>
                        <input type="text" id="city" name="city" placeholder="Manchester">

                        <div class="row">
                            <div class="col-50">
                                <label for="county">County</label>
                                <input type="text" id="county" name="county" placeholder="Greater Manchester">
                            </div>
                            <div class="col-50">
                                <label for="zip">Postal Code</label>
                                <input type="text" id="zip" name="zip" placeholder="M13 9PL">
                            </div>
                        </div>
                    </div>

                    <div class="col-50">
                        <h3>Payment</h3>
                        <label for="fname">Accepted Cards</label>
                        <div class="icon-container">
                            <i class="fa fa-cc-visa" style="color:navy;"></i>
                            <i class="fa fa-cc-amex" style="color:blue;"></i>
                            <i class="fa fa-cc-mastercard" style="color:red;"></i>
                            <i class="fa fa-cc-discover" style="color:orange;"></i>
                        </div>
                        <label for="cname">Name on Card</label>
                        <input type="text" id="cname" name="cardname" placeholder="John More Doe">
                        <label for="ccnum">Credit card number</label>
                        <input type="text" id="ccnum" name="cardnumber" placeholder="1111-2222-3333-4444">
                        <label for="exp">Exp Month/Year</label>
                        <input type="text" id="exp" name="exp" placeholder="09/21">
                        <label for="cvv">CVV</label>
                        <input type="text" id="cvv" name="cvv" placeholder="352">

                        <label>
                            <input type="checkbox" checked="checked" name="sameadr"> Shipping address same as billing
                        </label>
                        <label>
                            <p><input type="checkbox" required name="terms"> I accept the <u>Terms and Conditions</u></p>
                        </label>
                        <input type="submit"  value="Checkout" id="btn-checkout" class="btn">

                    </div>

                </div>
            </form>
        </div>
    </div>

</div>

</body>
</html>
